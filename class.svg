<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:1637px;height:749px;" version="1.1" viewBox="0 0 1637 749" width="1637px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m7uthfumptpp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class IDisposable--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="60.8047" id="IDisposable" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="656" y="154.5"/><ellipse cx="671" cy="170.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671.9531,167.2813 L671.9531,173.7969 L673.6719,173.7969 C674.125,173.7969 674.2656,173.8281 674.4375,173.9531 C674.6719,174.125 674.7813,174.375 674.7813,174.6563 C674.7813,175.2188 674.4219,175.5 673.6719,175.5 L668.5313,175.5 C668.125,175.5 667.9219,175.4531 667.7656,175.3281 C667.5469,175.1719 667.4063,174.9063 667.4063,174.6563 C667.4063,174.3594 667.5625,174.0781 667.8125,173.9219 C667.9688,173.8125 668.0938,173.7969 668.5313,173.7969 L670.25,173.7969 L670.25,167.2813 L668.5313,167.2813 C668.1094,167.2813 667.9219,167.25 667.7656,167.1406 C667.5469,166.9688 667.4063,166.7188 667.4063,166.4375 C667.4063,166.1563 667.5625,165.8594 667.8125,165.7031 C667.9688,165.6094 668.0938,165.5938 668.5313,165.5938 L673.6719,165.5938 C674.125,165.5938 674.2656,165.625 674.4375,165.7344 C674.6719,165.9063 674.7813,166.1719 674.7813,166.4375 C674.7813,166.7344 674.6406,167.0156 674.375,167.1719 C674.25,167.25 674.0625,167.2813 673.6719,167.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="685" y="174.6543">IDisposable</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="657" x2="758" y1="186.5" y2="186.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="657" x2="758" y1="194.5" y2="194.5"/><ellipse cx="667" cy="206.4023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="676" y="208.7104">Dispose()</text><!--class AudioFile--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="252.875" id="AudioFile" style="stroke: #A80036; stroke-width: 1.5;" width="587" x="414" y="288"/><ellipse cx="675.25" cy="304" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M676.8281,305.8125 L672.7813,305.8125 L672.3906,306.7969 L672.7813,306.7969 C673.2344,306.7969 673.375,306.8281 673.5469,306.9531 C673.7656,307.125 673.8906,307.375 673.8906,307.6563 C673.8906,307.9375 673.75,308.2344 673.4844,308.375 C673.3594,308.4688 673.1406,308.5 672.7813,308.5 L670.5156,308.5 C669.7656,308.5 669.3906,308.2188 669.3906,307.6563 C669.3906,307.3594 669.5469,307.0781 669.7969,306.9219 C669.9531,306.8125 670.1094,306.7969 670.5313,306.7969 L673.1719,300.2813 L672.0938,300.2813 C671.6563,300.2813 671.4844,300.25 671.3125,300.1406 C671.0938,299.9688 670.9531,299.7188 670.9531,299.4375 C670.9531,299.1563 671.1094,298.875 671.3594,298.7031 C671.5156,298.6094 671.6406,298.5938 672.0938,298.5938 L675.7656,298.5938 L679.1563,306.7969 C679.625,306.7969 679.7813,306.8281 679.9531,306.9688 C680.1719,307.125 680.3125,307.375 680.3125,307.6563 C680.3125,307.9375 680.1563,308.2344 679.9063,308.375 C679.7656,308.4688 679.5469,308.5 679.1875,308.5 L676.8281,308.5 C676.4063,308.5 676.2031,308.4531 676.0625,308.3281 C675.8438,308.1719 675.7031,307.9219 675.7031,307.6563 C675.7031,307.3594 675.8594,307.0781 676.1094,306.9219 C676.2656,306.8125 676.375,306.7969 676.8281,306.7969 L677.2188,306.7969 Z M676.125,304.1094 L674.7969,300.8438 L673.4531,304.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="695.75" y="308.1543">AudioFile</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="415" x2="1000" y1="320" y2="320"/><ellipse cx="425" cy="331.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="296" x="434" y="334.2104">WeightFormula: WeighSampleFormula = ratio =&gt; 1d</text><ellipse cx="425" cy="344.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="561" x="434" y="347.0151">AdjustmentFormula: AdjustSampleFormula = sample, target, current =&gt; sample * target / current</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="438" y="359.8198"/><ellipse cx="425" cy="370.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="434" y="372.6245">WeightedAverage: double</text><ellipse cx="425" cy="383.1211" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="434" y="385.4292">Highest: double</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="422" y="392.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="434" y="398.2339">Buffer: byte[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="422" y="405.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="434" y="411.0386">file: FileStream</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="422" y="418.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="434" y="423.8433">path: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="415" x2="1000" y1="430.4375" y2="430.4375"/><ellipse cx="425" cy="442.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="181" x="434" y="444.6479">OpenFile(path: string): AudioFile</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="438" y="457.4526"/><polygon fill="#FFFF44" points="425,462.9492,429,466.9492,425,470.9492,421,466.9492" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="434" y="470.2573">new(path: string)</text><ellipse cx="425" cy="480.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="434" y="483.062">Dispose()</text><ellipse cx="425" cy="493.5586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="364" x="434" y="495.8667">AdjustSamples(targetAverage: double, targetPath: string = null)</text><ellipse cx="425" cy="506.3633" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="434" y="508.6714">WouldFit(targetAverage: double): bool</text><polygon fill="#FFFF44" points="425,514.168,429,518.168,425,522.168,421,518.168" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="227" x="434" y="521.4761">DecodeSamples(buffer: byte[]): double[]</text><polygon fill="#FFFF44" points="425,526.9727,429,530.9727,425,534.9727,421,530.9727" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="403" x="434" y="534.2808">EncodeSamples(samples: IEnumerable&lt;double&gt;, buffer: byte[]): byte[]</text><!--class WaveSound--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="137.6328" id="WaveSound" style="stroke: #A80036; stroke-width: 1.5;" width="441" x="6" y="601"/><ellipse cx="185.75" cy="617" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M188.0938,612.6719 L188.2656,612.75 C188.4844,612.4375 188.6875,612.3438 188.9844,612.3438 C189.2813,612.3438 189.5625,612.4844 189.7188,612.75 C189.8125,612.9063 189.8281,613.0313 189.8281,613.4688 L189.8281,614.8906 C189.8281,615.3125 189.7969,615.5 189.6875,615.6563 C189.5156,615.875 189.25,616.0156 188.9844,616.0156 C188.7656,616.0156 188.5313,615.9063 188.3906,615.7656 C188.25,615.6406 188.2188,615.5156 188.1563,615.1094 C188.0625,614.7031 187.8906,614.4844 187.4063,614.2031 C186.9375,613.9531 186.3281,613.7969 185.75,613.7969 C184.0156,613.7969 182.7656,615.1094 182.7656,616.8906 L182.7656,617.9844 C182.7656,619.6875 184.0625,620.7813 186.1094,620.7813 C186.875,620.7813 187.5625,620.6563 187.9844,620.3906 C188.1719,620.2969 188.1719,620.2969 188.625,619.8125 C188.8125,619.625 189.0156,619.5469 189.2344,619.5469 C189.7031,619.5469 190.0938,619.9375 190.0938,620.3906 C190.0938,620.7813 189.7656,621.2344 189.1875,621.6406 C188.4375,622.1875 187.2813,622.4844 186.0625,622.4844 C183.1719,622.4844 181.0625,620.5938 181.0625,618.0156 L181.0625,616.8906 C181.0625,614.1719 183.0625,612.0938 185.6875,612.0938 C186.5625,612.0938 187.1563,612.2344 188.0938,612.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="206.25" y="621.1543">WaveSound</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="446" y1="633" y2="633"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="641.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="26" y="647.2104">_little_endian: bool</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="654.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="26" y="660.0151">step: int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="667.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="26" y="672.8198">dataChunkStart: long</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="446" y1="679.4141" y2="679.4141"/><ellipse cx="17" cy="691.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="26" y="693.6245">new(path: string)</text><polygon fill="#FFFF44" points="17,699.1211,21,703.1211,17,707.1211,13,703.1211" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="26" y="706.4292">DecodeSamples(buffer: byte[]): double[]</text><polygon fill="#FFFF44" points="17,711.9258,21,715.9258,17,719.9258,13,715.9258" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="405" x="26" y="719.2339">EncodeSamples(samples: IEnumerable&lt;double&gt;, buffer: byte[]): byte[]</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="726.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="415" x="26" y="732.0386">Read(buffer: byte[], start: long, length: int, little_endian: bool? = null): int</text><!--class AudioFileManager--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="124.8281" id="AudioFileManager" style="stroke: #A80036; stroke-width: 1.5;" width="1144" x="482.5" y="607.5"/><ellipse cx="994.75" cy="623.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M997.0938,619.1719 L997.2656,619.25 C997.4844,618.9375 997.6875,618.8438 997.9844,618.8438 C998.2813,618.8438 998.5625,618.9844 998.7188,619.25 C998.8125,619.4063 998.8281,619.5313 998.8281,619.9688 L998.8281,621.3906 C998.8281,621.8125 998.7969,622 998.6875,622.1563 C998.5156,622.375 998.25,622.5156 997.9844,622.5156 C997.7656,622.5156 997.5313,622.4063 997.3906,622.2656 C997.25,622.1406 997.2188,622.0156 997.1563,621.6094 C997.0625,621.2031 996.8906,620.9844 996.4063,620.7031 C995.9375,620.4531 995.3281,620.2969 994.75,620.2969 C993.0156,620.2969 991.7656,621.6094 991.7656,623.3906 L991.7656,624.4844 C991.7656,626.1875 993.0625,627.2813 995.1094,627.2813 C995.875,627.2813 996.5625,627.1563 996.9844,626.8906 C997.1719,626.7969 997.1719,626.7969 997.625,626.3125 C997.8125,626.125 998.0156,626.0469 998.2344,626.0469 C998.7031,626.0469 999.0938,626.4375 999.0938,626.8906 C999.0938,627.2813 998.7656,627.7344 998.1875,628.1406 C997.4375,628.6875 996.2813,628.9844 995.0625,628.9844 C992.1719,628.9844 990.0625,627.0938 990.0625,624.5156 L990.0625,623.3906 C990.0625,620.6719 992.0625,618.5938 994.6875,618.5938 C995.5625,618.5938 996.1563,618.7344 997.0938,619.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="1015.25" y="627.6543">AudioFileManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="483.5" x2="1625.5" y1="639.5" y2="639.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="490.5" y="648.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="197" x="502.5" y="653.7104">files: Dictionary&lt;string, AudioFile&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="483.5" x2="1625.5" y1="660.3047" y2="660.3047"/><ellipse cx="493.5" cy="672.207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="502.5" y="674.5151">OpenFile(path: string)</text><ellipse cx="493.5" cy="685.0117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="125" x="502.5" y="687.3198">CloseFile(path: string)</text><ellipse cx="493.5" cy="697.8164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="53" x="502.5" y="700.1245">CloseAll()</text><ellipse cx="493.5" cy="710.6211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="672" x="502.5" y="712.9292">CheckForOvermodulation(progress: Action&lt;float&gt;, factor: double, ReferenceFiles: IEnumerable&lt;string&gt;): Task&lt;bool&gt;</text><ellipse cx="493.5" cy="723.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="1118" x="502.5" y="725.7339">AdjustFiles(progress: Action&lt;float&gt;, factor: double, ReferenceFiles: IEnumerable&lt;string&gt;, NewPaths: Func&lt;string, string&gt;, fileSucceed: Action&lt;string&gt;, fileFailed: Action&lt;string, Exception&gt;): Task</text><!--class IEqualityComparer--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="73.6094" id="IEqualityComparer" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="872.5" y="8"/><ellipse cx="896.5" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M897.4531,20.7813 L897.4531,27.2969 L899.1719,27.2969 C899.625,27.2969 899.7656,27.3281 899.9375,27.4531 C900.1719,27.625 900.2813,27.875 900.2813,28.1563 C900.2813,28.7188 899.9219,29 899.1719,29 L894.0313,29 C893.625,29 893.4219,28.9531 893.2656,28.8281 C893.0469,28.6719 892.9063,28.4063 892.9063,28.1563 C892.9063,27.8594 893.0625,27.5781 893.3125,27.4219 C893.4688,27.3125 893.5938,27.2969 894.0313,27.2969 L895.75,27.2969 L895.75,20.7813 L894.0313,20.7813 C893.6094,20.7813 893.4219,20.75 893.2656,20.6406 C893.0469,20.4688 892.9063,20.2188 892.9063,19.9375 C892.9063,19.6563 893.0625,19.3594 893.3125,19.2031 C893.4688,19.1094 893.5938,19.0938 894.0313,19.0938 L899.1719,19.0938 C899.625,19.0938 899.7656,19.125 899.9375,19.2344 C900.1719,19.4063 900.2813,19.6719 900.2813,19.9375 C900.2813,20.2344 900.1406,20.5156 899.875,20.6719 C899.75,20.75 899.5625,20.7813 899.1719,20.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="912.5" y="28.1543">IEqualityComparer</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="37" x="1044.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="35" x="1045.5" y="17.1387">string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873.5" x2="1077.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="873.5" x2="1077.5" y1="48" y2="48"/><ellipse cx="883.5" cy="59.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="892.5" y="62.2104">Equals(x: string, y: string): bool</text><ellipse cx="883.5" cy="72.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="892.5" y="75.0151">GetHashCode(obj: string): int</text><!--class PathComparer--><rect fill="#FEFECE" filter="url(#f1m7uthfumptpp)" height="86.4141" id="PathComparer" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="872.5" y="142"/><ellipse cx="926.25" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M928.5938,153.6719 L928.7656,153.75 C928.9844,153.4375 929.1875,153.3438 929.4844,153.3438 C929.7813,153.3438 930.0625,153.4844 930.2188,153.75 C930.3125,153.9063 930.3281,154.0313 930.3281,154.4688 L930.3281,155.8906 C930.3281,156.3125 930.2969,156.5 930.1875,156.6563 C930.0156,156.875 929.75,157.0156 929.4844,157.0156 C929.2656,157.0156 929.0313,156.9063 928.8906,156.7656 C928.75,156.6406 928.7188,156.5156 928.6563,156.1094 C928.5625,155.7031 928.3906,155.4844 927.9063,155.2031 C927.4375,154.9531 926.8281,154.7969 926.25,154.7969 C924.5156,154.7969 923.2656,156.1094 923.2656,157.8906 L923.2656,158.9844 C923.2656,160.6875 924.5625,161.7813 926.6094,161.7813 C927.375,161.7813 928.0625,161.6563 928.4844,161.3906 C928.6719,161.2969 928.6719,161.2969 929.125,160.8125 C929.3125,160.625 929.5156,160.5469 929.7344,160.5469 C930.2031,160.5469 930.5938,160.9375 930.5938,161.3906 C930.5938,161.7813 930.2656,162.2344 929.6875,162.6406 C928.9375,163.1875 927.7813,163.4844 926.5625,163.4844 C923.6719,163.4844 921.5625,161.5938 921.5625,159.0156 L921.5625,157.8906 C921.5625,155.1719 923.5625,153.0938 926.1875,153.0938 C927.0625,153.0938 927.6563,153.2344 928.5938,153.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="946.75" y="162.1543">PathComparer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873.5" x2="1077.5" y1="174" y2="174"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="873.5" x2="1077.5" y1="182" y2="182"/><ellipse cx="883.5" cy="193.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="892.5" y="196.2104">Equals(x: string, y: string): bool</text><ellipse cx="883.5" cy="206.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="892.5" y="209.0151">Equals(x: string, y: string): bool</text><ellipse cx="883.5" cy="219.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="892.5" y="221.8198">GetHashCode(obj: string): int</text><!--link IDisposable to AudioFile--><path d="M707.5,236.006 C707.5,251.595 707.5,269.543 707.5,287.907 " fill="none" id="IDisposable-AudioFile" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="700.5,235.742,707.5,215.742,714.5,235.742,700.5,235.742" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AudioFile to WaveSound--><path d="M451.255,550.548 C418.177,567.981 385.498,585.204 355.735,600.89 " fill="none" id="AudioFile-WaveSound" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="448.157,544.268,469.114,541.136,454.684,556.653,448.157,544.268" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IEqualityComparer to PathComparer--><path d="M975.5,102.619 C975.5,115.659 975.5,129.309 975.5,141.622 " fill="none" id="IEqualityComparer-PathComparer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="968.5,102.258,975.5,82.258,982.5,102.258,968.5,102.258" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AudioFile to AudioFileManager--><path d="M883.539,544.105 C913.711,566.147 943.779,588.113 970.095,607.338 " fill="none" id="AudioFile-AudioFileManager" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="879.475,541.136,884.3832,549.6747,883.5126,544.0853,889.102,543.2146,879.475,541.136" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="865.7525" y="560.9651">0..*</text><!--link PathComparer to AudioFileManager--><path d="M998.799,232.894 C1006.28,249.867 1013.83,269.432 1018.5,288 C1046.23,398.177 1052.98,531.16 1054.4,607.322 " fill="none" id="PathComparer-AudioFileManager" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="996.694,228.178,996.7083,238.0268,998.7313,232.7441,1004.0141,234.7671,996.694,228.178" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PathComparer to AudioFile--><path d="M921.866,231.529 C902.356,248.091 879.241,267.713 855.533,287.837 " fill="none" id="PathComparer-AudioFile" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="925.719,228.258,916.2687,231.0316,921.9067,231.4932,921.4451,237.1312,925.719,228.258" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
interface IDisposable {
    +Dispose()
}

abstract class AudioFile implements IDisposable {
    {static}+WeightFormula: WeighSampleFormula = ratio => 1d
    {static}+AdjustmentFormula: AdjustSampleFormula = sample, target, current => sample * target / current
    
    +WeightedAverage: double
    +Highest: double
    -Buffer: byte[]
    -file: FileStream
    -path: string
    
    {static}+OpenFile(path: string): AudioFile
    
    #new(path: string)
    +Dispose()
    +AdjustSamples(targetAverage: double, targetPath: string = null)
    +WouldFit(targetAverage: double): bool
    {abstract}#DecodeSamples(buffer: byte[]): double[]
    {abstract}#EncodeSamples(samples: IEnumerable<double>, buffer: byte[]): byte[]
}

class WaveSound extends AudioFile {
    -_little_endian: bool
    -step: int
    -dataChunkStart: long
    
    +new(path: string)
    #DecodeSamples(buffer: byte[]): double[]
    #EncodeSamples(samples: IEnumerable<double>, buffer: byte[]): byte[]
    -Read(buffer: byte[], start: long, length: int, little_endian: bool? = null): int
}

class AudioFileManager {
    {static}-files: Dictionary<string, AudioFile>
    
    {static}+OpenFile(path: string)
    {static}+CloseFile(path: string)
    {static}+CloseAll()
    {static}+CheckForOvermodulation(progress: Action<float>, factor: double, ReferenceFiles: IEnumerable<string>): Task<bool>
    {static}+AdjustFiles(progress: Action<float>, factor: double, ReferenceFiles: IEnumerable<string>, NewPaths: Func<string, string>, fileSucceed: Action<string>, fileFailed: Action<string, Exception>): Task
}

interface IEqualityComparer<string> {
    +Equals(x: string, y: string): bool
    +GetHashCode(obj: string): int
}

class PathComparer implements IEqualityComparer {
    {static}+Equals(x: string, y: string): bool
    +Equals(x: string, y: string): bool
    +GetHashCode(obj: string): int
}

AudioFile "0..*" <- - AudioFileManager
PathComparer <- - AudioFileManager
PathComparer <- - AudioFile
@enduml

PlantUML version 1.2019.07beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>